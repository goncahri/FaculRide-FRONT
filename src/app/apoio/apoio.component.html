<section class="apoio-container">
  <h2 class="titulo-apoio">Seja um apoiador da ideia üíô</h2>

  <p class="texto-apoio">
    Sua doa√ß√£o ajuda a manter o FaculRide vivo e em evolu√ß√£o.
    Aqui n√£o √© compra de produto, √© apoio espont√¢neo ao projeto.
  </p>

  <form (ngSubmit)="iniciarDoacao()">
    <!-- Dados b√°sicos do apoiador -->
    <div class="row mb-3">
      <div class="col-md-6 mb-2">
        <label class="form-label">Nome</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="nome"
          name="nome"
          required
        />
      </div>
      <div class="col-md-6 mb-2">
        <label class="form-label">E-mail</label>
        <input
          type="email"
          class="form-control"
          [(ngModel)]="email"
          name="email"
          required
        />
      </div>
    </div>

    <!-- Planos r√°pidos -->
    <div class="planos-apoio mb-3">
      <button
        *ngFor="let plano of planos"
        type="button"
        class="btn-plano"
        [class.selecionado]="valorSelecionado === plano.valor"
        (click)="selecionarPlano(plano)"
      >
        <div class="plano-label">{{ plano.label }}</div>
        <div class="plano-valor">
          R$ {{ plano.valor | number:'1.2-2' }}
        </div>
      </button>
    </div>

    <!-- Valor personalizado -->
    <div class="doacao-valor-custom mb-4">
      <label class="form-label">Ou escolha outro valor:</label>
      <div class="input-group">
        <span class="input-group-text">R$</span>
        <input
          type="number"
          min="1"
          class="form-control"
          [value]="valorSelecionado || ''"
          (input)="
            valorSelecionado = $any($event.target).valueAsNumber;
            tipoApoioSelecionado = 'Apoio Personalizado'
          "
        />
      </div>
    </div>

    <button
      class="btn btn-primary btn-apoio"
      type="submit"
      [disabled]="carregando"
    >
      <span *ngIf="!carregando">Apoiar com Mercado Pago</span>
      <span *ngIf="carregando">Gerando link de apoio...</span>
    </button>

    <small class="texto-termos">
      Voc√™ ser√° redirecionado ao ambiente seguro do Mercado Pago para concluir sua doa√ß√£o.
    </small>
  </form>
</section>
