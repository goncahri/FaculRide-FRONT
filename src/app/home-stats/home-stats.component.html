<section class="stats-section">
  <h2>Números do FaculRide</h2>
  <p class="section-intro">
    A FaculRide cresce a cada dia 🚗💨 — conectando motoristas e passageiros para tornar a mobilidade
    universitária mais fácil, segura e sustentável. Confira os números da nossa comunidade!
  </p>

  <div class="stats-grid">
    <!-- CARD 1: Totais Motoristas x Passageiros -->
    <div class="card">
      <h2 class="chart-title">Crescimento da Comunidade</h2>
      <p class="chart-subtitle">
        Acompanhe o equilíbrio entre quem oferece e quem procura carona.
      </p>
      <div class="chart-container">
        <canvas #usuariosChart></canvas>
      </div>
    </div>

    <!-- CARD 2: Satisfação (gauge) -->
    <div class="card">
      <h2 class="chart-title">Satisfação Garantida ⭐</h2>
      <p class="chart-subtitle">
        Nossa comunidade tem uma das maiores notas de aprovação entre apps de carona universitária no Brasil!
      </p>

      <!-- estrelas + explicação -->
      <div class="rating">
        <div class="stars" aria-hidden="true">
          <span class="star" *ngFor="let s of stars" [class.filled]="s <= roundedAvg">★</span>
        </div>
        <div class="rating-text">
          {{ avg | number:'1.1-1' }}/5 — média das nossas avaliações das caronas
        </div>
      </div>

      <div class="chart-container">
        <canvas #mediaChart></canvas>
        <div class="chart-center-label">{{ avg | number:'1.1-1' }}/5</div>
      </div>
    </div>
  </div>

  <div *ngIf="loading" class="hint">Carregando...</div>
  <div *ngIf="!loading && !errorMsg && !usuariosChart" class="hint">Sem dados ainda.</div>
  <div *ngIf="errorMsg" class="error">{{ errorMsg }}</div>
</section>
